<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>App 榜单监控 Agent</title>
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>📱 App Store & Google Play 榜单监控 Agent</h1>
            <p class="subtitle">自动化应用商店榜单监控与分析系统</p>
        </header>

        <main>
            <div class="modules-grid">
                <!-- 模块1：榜单数据 -->
                <div class="module-card">
                    <div class="module-header">
                        <span class="module-icon">📦</span>
                        <h2>模块1：榜单数据爬取</h2>
                    </div>
                    <p class="module-desc">查看每日爬取的应用商店榜单数据，支持 App Store 和 Google Play 共10个分类。</p>
                    <div class="module-stats">
                        <div class="stat">
                            <span class="stat-label">最新日期</span>
                            <span class="stat-value" id="module1-date">加载中...</span>
                        </div>
                        <div class="stat">
                            <span class="stat-label">平台</span>
                            <span class="stat-value">2个</span>
                        </div>
                        <div class="stat">
                            <span class="stat-label">分类</span>
                            <span class="stat-value">10个</span>
                        </div>
                    </div>
                    <button class="btn btn-primary" onclick="checkAndGoToScraper()">查看榜单数据 →</button>
                </div>

                <!-- 模块2：新上榜产品 -->
                <div class="module-card">
                    <div class="module-header">
                        <span class="module-icon">🔍</span>
                        <h2>模块2：新上榜产品识别</h2>
                    </div>
                    <p class="module-desc">自动对比每日榜单变化，识别新上榜的产品，为深度分析做准备。</p>
                    <div class="module-stats">
                        <div class="stat">
                            <span class="stat-label">最新日期</span>
                            <span class="stat-value" id="module2-date">加载中...</span>
                        </div>
                        <div class="stat">
                            <span class="stat-label">对比逻辑</span>
                            <span class="stat-value">智能回溯</span>
                        </div>
                        <div class="stat">
                            <span class="stat-label">去重机制</span>
                            <span class="stat-value">已实现</span>
                        </div>
                    </div>
                    <button class="btn btn-primary" onclick="checkAndRunDetector()">查看新上榜产品 →</button>
                </div>

                <!-- 模块3：AI分析 -->
                <div class="module-card">
                    <div class="module-header">
                        <span class="module-icon">🤖</span>
                        <h2>模块3：AI智能分析</h2>
                    </div>
                    <p class="module-desc">点击新上榜产品名称加入分析队列，使用AI进行深度分析。</p>
                    <div class="module-stats">
                        <div class="stat">
                            <span class="stat-label">最新日期</span>
                            <span class="stat-value" id="module3-date">加载中...</span>
                        </div>
                        <div class="stat">
                            <span class="stat-label">分析维度</span>
                            <span class="stat-value">5个</span>
                        </div>
                        <div class="stat">
                            <span class="stat-label">AI模型</span>
                            <span class="stat-value">Claude</span>
                        </div>
                    </div>
                    <a href="analyzer.html" class="btn btn-primary">查看分析队列 →</a>
                </div>
            </div>

            <!-- 快速统计 -->
            <div class="quick-stats">
                <h3>📊 快速统计</h3>
                <div class="stats-grid">
                    <div class="stat-box">
                        <div class="stat-number" id="total-dates">0</div>
                        <div class="stat-label">数据天数</div>
                    </div>
                    <div class="stat-box">
                        <div class="stat-number" id="total-apps">0</div>
                        <div class="stat-label">总应用数</div>
                    </div>
                    <div class="stat-box">
                        <div class="stat-number" id="new-apps">0</div>
                        <div class="stat-label">新上榜产品</div>
                    </div>
                    <div class="stat-box">
                        <div class="stat-number" id="analyzed-apps">0</div>
                        <div class="stat-label">已分析产品</div>
                    </div>
                </div>
            </div>

            <!-- 使用指南 -->
            <div class="guide-section">
                <h3>🚀 快速开始</h3>
                <div class="guide-steps">
                    <div class="step">
                        <div class="step-number">1</div>
                        <div class="step-content">
                            <h4>启动Web服务</h4>
                            <code>bash scripts/start_web.sh</code>
                        </div>
                    </div>
                    <div class="step">
                        <div class="step-number">2</div>
                        <div class="step-content">
                            <h4>模块1-爬取数据</h4>
                            <code>python modules/scraper.py</code>
                        </div>
                    </div>
                    <div class="step">
                        <div class="step-number">3</div>
                        <div class="step-content">
                            <h4>模块2-检测新品</h4>
                            <code>python modules/detector.py</code>
                        </div>
                    </div>
                    <div class="step">
                        <div class="step-number">4</div>
                        <div class="step-content">
                            <h4>模块3-AI分析</h4>
                            <code>python modules/analyzer.py</code>
                        </div>
                    </div>
                </div>
            </div>
        </main>

        <footer>
            <p>App Store & Google Play 榜单监控 Agent |
            <a href="https://github.com/您的用户名/appmonitor" target="_blank">GitHub</a></p>
        </footer>
    </div>

    <script src="js/common.js"></script>
    <script src="js/index.js"></script>
</body>
</html>
